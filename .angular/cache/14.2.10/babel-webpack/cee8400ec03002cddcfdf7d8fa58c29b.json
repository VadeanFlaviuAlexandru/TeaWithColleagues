{"ast":null,"code":"import { BaseComponent, getUniqueDomId, getDateMeta, buildNavLinkAttrs, ContentContainer, getDayClassNames, formatDayString, createFormatter, EventContainer, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, DateComponent, memoize, ViewContainer, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, startOfDay, addDays } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment } from '@fullcalendar/core/preact.js';\n\nclass ListViewHeaderRow extends BaseComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      textId: getUniqueDomId()\n    };\n  }\n\n  render() {\n    let {\n      theme,\n      dateEnv,\n      options,\n      viewApi\n    } = this.context;\n    let {\n      cellId,\n      dayDate,\n      todayRange\n    } = this.props;\n    let {\n      textId\n    } = this.state;\n    let dayMeta = getDateMeta(dayDate, todayRange); // will ever be falsy?\n\n    let text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : ''; // will ever be falsy? also, BAD NAME \"alt\"\n\n    let sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n    let renderProps = Object.assign({\n      date: dateEnv.toDate(dayDate),\n      view: viewApi,\n      textId,\n      text,\n      sideText,\n      navLinkAttrs: buildNavLinkAttrs(this.context, dayDate),\n      sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false)\n    }, dayMeta); // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n\n    return createElement(ContentContainer, {\n      elTag: \"tr\",\n      elClasses: ['fc-list-day', ...getDayClassNames(dayMeta, theme)],\n      elAttrs: {\n        'data-date': formatDayString(dayDate)\n      },\n      renderProps: renderProps,\n      generatorName: \"dayHeaderContent\",\n      generator: options.dayHeaderContent || renderInnerContent,\n      classNameGenerator: options.dayHeaderClassNames,\n      didMount: options.dayHeaderDidMount,\n      willUnmount: options.dayHeaderWillUnmount\n    }, InnerContent => // TODO: force-hide top border based on :first-child\n    createElement(\"th\", {\n      scope: \"colgroup\",\n      colSpan: 3,\n      id: cellId,\n      \"aria-labelledby\": textId\n    }, createElement(InnerContent, {\n      elTag: \"div\",\n      elClasses: ['fc-list-day-cushion', theme.getClass('tableCellShaded')]\n    })));\n  }\n\n}\n\nfunction renderInnerContent(props) {\n  return createElement(Fragment, null, props.text && createElement(\"a\", Object.assign({\n    id: props.textId,\n    className: \"fc-list-day-text\"\n  }, props.navLinkAttrs), props.text), props.sideText &&\n  /* not keyboard tabbable */\n  createElement(\"a\", Object.assign({\n    \"aria-hidden\": true,\n    className: \"fc-list-day-side-text\"\n  }, props.sideNavLinkAttrs), props.sideText));\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n  hour: 'numeric',\n  minute: '2-digit',\n  meridiem: 'short'\n});\n\nclass ListViewEventRow extends BaseComponent {\n  render() {\n    let {\n      props,\n      context\n    } = this;\n    let {\n      options\n    } = context;\n    let {\n      seg,\n      timeHeaderId,\n      eventHeaderId,\n      dateHeaderId\n    } = props;\n    let timeFormat = options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n    return createElement(EventContainer, Object.assign({}, props, {\n      elTag: \"tr\",\n      elClasses: ['fc-list-event', seg.eventRange.def.url && 'fc-event-forced-url'],\n      defaultGenerator: () => renderEventInnerContent(seg, context)\n      /* weird */\n      ,\n      seg: seg,\n      timeText: \"\",\n      disableDragging: true,\n      disableResizing: true\n    }), (InnerContent, eventContentArg) => createElement(Fragment, null, buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId), createElement(\"td\", {\n      \"aria-hidden\": true,\n      className: \"fc-list-event-graphic\"\n    }, createElement(\"span\", {\n      className: \"fc-list-event-dot\",\n      style: {\n        borderColor: eventContentArg.borderColor || eventContentArg.backgroundColor\n      }\n    })), createElement(InnerContent, {\n      elTag: \"td\",\n      elClasses: ['fc-list-event-title'],\n      elAttrs: {\n        headers: `${eventHeaderId} ${dateHeaderId}`\n      }\n    })));\n  }\n\n}\n\nfunction renderEventInnerContent(seg, context) {\n  let interactiveAttrs = getSegAnchorAttrs(seg, context);\n  return createElement(\"a\", Object.assign({}, interactiveAttrs), seg.eventRange.def.title);\n}\n\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n  let {\n    options\n  } = context;\n\n  if (options.displayEventTime !== false) {\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    let doAllDay = false;\n    let timeText;\n\n    if (eventDef.allDay) {\n      doAllDay = true;\n    } else if (isMultiDayRange(seg.eventRange.range)) {\n      // TODO: use (!isStart || !isEnd) instead?\n      if (seg.isStart) {\n        timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n      } else if (seg.isEnd) {\n        timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n      } else {\n        doAllDay = true;\n      }\n    } else {\n      timeText = buildSegTimeText(seg, timeFormat, context);\n    }\n\n    if (doAllDay) {\n      let renderProps = {\n        text: context.options.allDayText,\n        view: context.viewApi\n      };\n      return createElement(ContentContainer, {\n        elTag: \"td\",\n        elClasses: ['fc-list-event-time'],\n        elAttrs: {\n          headers: `${timeHeaderId} ${dateHeaderId}`\n        },\n        renderProps: renderProps,\n        generatorName: \"allDayContent\",\n        generator: options.allDayContent || renderAllDayInner,\n        classNameGenerator: options.allDayClassNames,\n        didMount: options.allDayDidMount,\n        willUnmount: options.allDayWillUnmount\n      });\n    }\n\n    return createElement(\"td\", {\n      className: \"fc-list-event-time\"\n    }, timeText);\n  }\n\n  return null;\n}\n\nfunction renderAllDayInner(renderProps) {\n  return renderProps.text;\n}\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\n\n\nclass ListView extends DateComponent {\n  constructor() {\n    super(...arguments);\n    this.computeDateVars = memoize(computeDateVars);\n    this.eventStoreToSegs = memoize(this._eventStoreToSegs);\n    this.state = {\n      timeHeaderId: getUniqueDomId(),\n      eventHeaderId: getUniqueDomId(),\n      dateHeaderIdRoot: getUniqueDomId()\n    };\n\n    this.setRootEl = rootEl => {\n      if (rootEl) {\n        this.context.registerInteractiveComponent(this, {\n          el: rootEl\n        });\n      } else {\n        this.context.unregisterInteractiveComponent(this);\n      }\n    };\n  }\n\n  render() {\n    let {\n      props,\n      context\n    } = this;\n    let {\n      dayDates,\n      dayRanges\n    } = this.computeDateVars(props.dateProfile);\n    let eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n    return createElement(ViewContainer, {\n      elRef: this.setRootEl,\n      elClasses: ['fc-list', context.theme.getClass('table'), context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : ''],\n      viewSpec: context.viewSpec\n    }, createElement(Scroller, {\n      liquid: !props.isHeightAuto,\n      overflowX: props.isHeightAuto ? 'visible' : 'hidden',\n      overflowY: props.isHeightAuto ? 'visible' : 'auto'\n    }, eventSegs.length > 0 ? this.renderSegList(eventSegs, dayDates) : this.renderEmptyMessage()));\n  }\n\n  renderEmptyMessage() {\n    let {\n      options,\n      viewApi\n    } = this.context;\n    let renderProps = {\n      text: options.noEventsText,\n      view: viewApi\n    };\n    return createElement(ContentContainer, {\n      elTag: \"div\",\n      elClasses: ['fc-list-empty'],\n      renderProps: renderProps,\n      generatorName: \"noEventsContent\",\n      generator: options.noEventsContent || renderNoEventsInner,\n      classNameGenerator: options.noEventsClassNames,\n      didMount: options.noEventsDidMount,\n      willUnmount: options.noEventsWillUnmount\n    }, InnerContent => createElement(InnerContent, {\n      elTag: \"div\",\n      elClasses: ['fc-list-empty-cushion']\n    }));\n  }\n\n  renderSegList(allSegs, dayDates) {\n    let {\n      theme,\n      options\n    } = this.context;\n    let {\n      timeHeaderId,\n      eventHeaderId,\n      dateHeaderIdRoot\n    } = this.state;\n    let segsByDay = groupSegsByDay(allSegs); // sparse array\n\n    return createElement(NowTimer, {\n      unit: \"day\"\n    }, (nowDate, todayRange) => {\n      let innerNodes = [];\n\n      for (let dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n        let daySegs = segsByDay[dayIndex];\n\n        if (daySegs) {\n          // sparse array, so might be undefined\n          let dayStr = formatDayString(dayDates[dayIndex]);\n          let dateHeaderId = dateHeaderIdRoot + '-' + dayStr; // append a day header\n\n          innerNodes.push(createElement(ListViewHeaderRow, {\n            key: dayStr,\n            cellId: dateHeaderId,\n            dayDate: dayDates[dayIndex],\n            todayRange: todayRange\n          }));\n          daySegs = sortEventSegs(daySegs, options.eventOrder);\n\n          for (let seg of daySegs) {\n            innerNodes.push(createElement(ListViewEventRow, Object.assign({\n              key: dayStr + ':' + seg.eventRange.instance.instanceId\n              /* are multiple segs for an instanceId */\n              ,\n              seg: seg,\n              isDragging: false,\n              isResizing: false,\n              isDateSelecting: false,\n              isSelected: false,\n              timeHeaderId: timeHeaderId,\n              eventHeaderId: eventHeaderId,\n              dateHeaderId: dateHeaderId\n            }, getSegMeta(seg, todayRange, nowDate))));\n          }\n        }\n      }\n\n      return createElement(\"table\", {\n        className: 'fc-list-table ' + theme.getClass('table')\n      }, createElement(\"thead\", null, createElement(\"tr\", null, createElement(\"th\", {\n        scope: \"col\",\n        id: timeHeaderId\n      }, options.timeHint), createElement(\"th\", {\n        scope: \"col\",\n        \"aria-hidden\": true\n      }), createElement(\"th\", {\n        scope: \"col\",\n        id: eventHeaderId\n      }, options.eventHint))), createElement(\"tbody\", null, innerNodes));\n    });\n  }\n\n  _eventStoreToSegs(eventStore, eventUiBases, dayRanges) {\n    return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n  }\n\n  eventRangesToSegs(eventRanges, dayRanges) {\n    let segs = [];\n\n    for (let eventRange of eventRanges) {\n      segs.push(...this.eventRangeToSegs(eventRange, dayRanges));\n    }\n\n    return segs;\n  }\n\n  eventRangeToSegs(eventRange, dayRanges) {\n    let {\n      dateEnv\n    } = this.context;\n    let {\n      nextDayThreshold\n    } = this.context.options;\n    let range = eventRange.range;\n    let allDay = eventRange.def.allDay;\n    let dayIndex;\n    let segRange;\n    let seg;\n    let segs = [];\n\n    for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n      segRange = intersectRanges(range, dayRanges[dayIndex]);\n\n      if (segRange) {\n        seg = {\n          component: this,\n          eventRange,\n          start: segRange.start,\n          end: segRange.end,\n          isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n          isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n          dayIndex\n        };\n        segs.push(seg); // detect when range won't go fully into the next day,\n        // and mutate the latest seg to the be the end.\n\n        if (!seg.isEnd && !allDay && dayIndex + 1 < dayRanges.length && range.end < dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n          seg.end = range.end;\n          seg.isEnd = true;\n          break;\n        }\n      }\n    }\n\n    return segs;\n  }\n\n}\n\nfunction renderNoEventsInner(renderProps) {\n  return renderProps.text;\n}\n\nfunction computeDateVars(dateProfile) {\n  let dayStart = startOfDay(dateProfile.renderRange.start);\n  let viewEnd = dateProfile.renderRange.end;\n  let dayDates = [];\n  let dayRanges = [];\n\n  while (dayStart < viewEnd) {\n    dayDates.push(dayStart);\n    dayRanges.push({\n      start: dayStart,\n      end: addDays(dayStart, 1)\n    });\n    dayStart = addDays(dayStart, 1);\n  }\n\n  return {\n    dayDates,\n    dayRanges\n  };\n} // Returns a sparse array of arrays, segs grouped by their dayIndex\n\n\nfunction groupSegsByDay(segs) {\n  let segsByDay = []; // sparse array\n\n  let i;\n  let seg;\n\n  for (i = 0; i < segs.length; i += 1) {\n    seg = segs[i];\n    (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = [])).push(seg);\n  }\n\n  return segsByDay;\n}\n\nexport { ListView };","map":{"version":3,"names":["BaseComponent","getUniqueDomId","getDateMeta","buildNavLinkAttrs","ContentContainer","getDayClassNames","formatDayString","createFormatter","EventContainer","getSegAnchorAttrs","isMultiDayRange","buildSegTimeText","DateComponent","memoize","ViewContainer","Scroller","NowTimer","sortEventSegs","getSegMeta","sliceEventStore","intersectRanges","startOfDay","addDays","createElement","Fragment","ListViewHeaderRow","constructor","arguments","state","textId","render","theme","dateEnv","options","viewApi","context","cellId","dayDate","todayRange","props","dayMeta","text","listDayFormat","format","sideText","listDaySideFormat","renderProps","Object","assign","date","toDate","view","navLinkAttrs","sideNavLinkAttrs","elTag","elClasses","elAttrs","generatorName","generator","dayHeaderContent","renderInnerContent","classNameGenerator","dayHeaderClassNames","didMount","dayHeaderDidMount","willUnmount","dayHeaderWillUnmount","InnerContent","scope","colSpan","id","getClass","className","DEFAULT_TIME_FORMAT","hour","minute","meridiem","ListViewEventRow","seg","timeHeaderId","eventHeaderId","dateHeaderId","timeFormat","eventTimeFormat","eventRange","def","url","defaultGenerator","renderEventInnerContent","timeText","disableDragging","disableResizing","eventContentArg","buildTimeContent","style","borderColor","backgroundColor","headers","interactiveAttrs","title","displayEventTime","eventDef","eventInstance","instance","doAllDay","allDay","range","isStart","start","end","isEnd","allDayText","allDayContent","renderAllDayInner","allDayClassNames","allDayDidMount","allDayWillUnmount","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","rootEl","registerInteractiveComponent","el","unregisterInteractiveComponent","dayDates","dayRanges","dateProfile","eventSegs","eventStore","eventUiBases","elRef","stickyHeaderDates","viewSpec","liquid","isHeightAuto","overflowX","overflowY","length","renderSegList","renderEmptyMessage","noEventsText","noEventsContent","renderNoEventsInner","noEventsClassNames","noEventsDidMount","noEventsWillUnmount","allSegs","segsByDay","groupSegsByDay","unit","nowDate","innerNodes","dayIndex","daySegs","dayStr","push","key","eventOrder","instanceId","isDragging","isResizing","isDateSelecting","isSelected","timeHint","eventHint","eventRangesToSegs","activeRange","nextDayThreshold","fg","eventRanges","segs","eventRangeToSegs","segRange","component","valueOf","add","dayStart","renderRange","viewEnd","i"],"sources":["D:/CodingStuff/GitHub/TeaWithColleagues/node_modules/@fullcalendar/list/internal.js"],"sourcesContent":["import { BaseComponent, getUniqueDomId, getDateMeta, buildNavLinkAttrs, ContentContainer, getDayClassNames, formatDayString, createFormatter, EventContainer, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, DateComponent, memoize, ViewContainer, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, startOfDay, addDays } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment } from '@fullcalendar/core/preact.js';\n\nclass ListViewHeaderRow extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            textId: getUniqueDomId(),\n        };\n    }\n    render() {\n        let { theme, dateEnv, options, viewApi } = this.context;\n        let { cellId, dayDate, todayRange } = this.props;\n        let { textId } = this.state;\n        let dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        let text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        let sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        let renderProps = Object.assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId,\n            text,\n            sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(ContentContainer, { elTag: \"tr\", elClasses: [\n                'fc-list-day',\n                ...getDayClassNames(dayMeta, theme),\n            ], elAttrs: {\n                'data-date': formatDayString(dayDate),\n            }, renderProps: renderProps, generatorName: \"dayHeaderContent\", generator: options.dayHeaderContent || renderInnerContent, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => ( // TODO: force-hide top border based on :first-child\n        createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-list-day-cushion',\n                    theme.getClass('tableCellShaded'),\n                ] })))));\n    }\n}\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", Object.assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", Object.assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nclass ListViewEventRow extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg, timeHeaderId, eventHeaderId, dateHeaderId } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"tr\", elClasses: [\n                'fc-list-event',\n                seg.eventRange.def.url && 'fc-event-forced-url',\n            ], defaultGenerator: () => renderEventInnerContent(seg, context) /* weird */, seg: seg, timeText: \"\", disableDragging: true, disableResizing: true }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: {\n                        borderColor: eventContentArg.borderColor || eventContentArg.backgroundColor,\n                    } })),\n            createElement(InnerContent, { elTag: \"td\", elClasses: ['fc-list-event-title'], elAttrs: { headers: `${eventHeaderId} ${dateHeaderId}` } })))));\n    }\n}\nfunction renderEventInnerContent(seg, context) {\n    let interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", Object.assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    let { options } = context;\n    if (options.displayEventTime !== false) {\n        let eventDef = seg.eventRange.def;\n        let eventInstance = seg.eventRange.instance;\n        let doAllDay = false;\n        let timeText;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            let renderProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(ContentContainer, { elTag: \"td\", elClasses: ['fc-list-event-time'], elAttrs: {\n                    headers: `${timeHeaderId} ${dateHeaderId}`,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", generator: options.allDayContent || renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nclass ListView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.computeDateVars = memoize(computeDateVars);\n        this.eventStoreToSegs = memoize(this._eventStoreToSegs);\n        this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        this.setRootEl = (rootEl) => {\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { props, context } = this;\n        let { dayDates, dayRanges } = this.computeDateVars(props.dateProfile);\n        let eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewContainer, { elRef: this.setRootEl, elClasses: [\n                'fc-list',\n                context.theme.getClass('table'),\n                context.options.stickyHeaderDates !== false ?\n                    'fc-list-sticky' :\n                    '',\n            ], viewSpec: context.viewSpec },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                this.renderSegList(eventSegs, dayDates) :\n                this.renderEmptyMessage())));\n    }\n    renderEmptyMessage() {\n        let { options, viewApi } = this.context;\n        let renderProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(ContentContainer, { elTag: \"div\", elClasses: ['fc-list-empty'], renderProps: renderProps, generatorName: \"noEventsContent\", generator: options.noEventsContent || renderNoEventsInner, classNameGenerator: options.noEventsClassNames, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-list-empty-cushion'] }))));\n    }\n    renderSegList(allSegs, dayDates) {\n        let { theme, options } = this.context;\n        let { timeHeaderId, eventHeaderId, dateHeaderIdRoot } = this.state;\n        let segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => {\n            let innerNodes = [];\n            for (let dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                let daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    let dayStr = formatDayString(dayDates[dayIndex]);\n                    let dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (let seg of daySegs) {\n                        innerNodes.push(createElement(ListViewEventRow, Object.assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    }\n    _eventStoreToSegs(eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    }\n    eventRangesToSegs(eventRanges, dayRanges) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    }\n    eventRangeToSegs(eventRange, dayRanges) {\n        let { dateEnv } = this.context;\n        let { nextDayThreshold } = this.context.options;\n        let range = eventRange.range;\n        let allDay = eventRange.def.allDay;\n        let dayIndex;\n        let segRange;\n        let seg;\n        let segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    }\n}\nfunction renderNoEventsInner(renderProps) {\n    return renderProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    let dayStart = startOfDay(dateProfile.renderRange.start);\n    let viewEnd = dateProfile.renderRange.end;\n    let dayDates = [];\n    let dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates, dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    let segsByDay = []; // sparse array\n    let i;\n    let seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nexport { ListView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}